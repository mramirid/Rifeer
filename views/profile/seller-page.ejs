<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Profile</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Acme">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Chewy">
    <link rel="stylesheet" href="fonts/font-awesome.min.css">
    <link rel="stylesheet" href="fonts/ionicons.min.css">
    <link rel="stylesheet" href="stylesheets/profile/Block-Responsive-Item-List.css">
    <link rel="stylesheet" href="stylesheets/profile/image-card-materialize-1.css">
    <link rel="stylesheet" href="stylesheets/profile/image-card-materialize.css">
    <link rel="stylesheet" href="stylesheets/bootstrap/4.3.1/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/profile/Navigation-Profile.css">
    <link rel="stylesheet" href="stylesheets/profile/styles.css">
    <link rel="stylesheet" href="stylesheets/profile/Profile-Card.css">
    <link rel="stylesheet" href="stylesheets/profile/Social-Icons.css">
</head>

<body style="font-family: Chewy, cursive;">

<nav class="navbar navbar-light navbar-expand-md navigation-clean-button">
    <div class="container">
        <a class="navbar-brand" href="/" style="font-family: Chewy, cursive;font-size: 32px;">Riferr</a>
        <button data-toggle="collapse" class="navbar-toggler" data-target="#navcol-1">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navcol-1">
            <ul class="nav navbar-nav mr-auto"></ul>
            <span class="navbar-text actions">
                <a class="login" href="profile"
                   style="font-size: 18px;font-family: Acme, sans-serif;"><%= data[0].user_name %></a>
            </span>
            <span class="navbar-text actions">
                <a class="login" href="#" id="myBtn" style="font-size: 18px;font-family: Acme, sans-serif;">Add</a>
            </span>
            <span class="navbar-text actions">
                <a class="login" href="/profile/settings-page"
                   style="font-size: 18px;font-family: Acme, sans-serif;">Settings</a>
            </span>
            <span class="navbar-text actions">
                <a class="login" href="/profile/logout" style="font-size: 18px;font-family: Acme, sans-serif;">Log-out</a>
            </span>
        </div>
    </div>
</nav>

<div class="profile-card">
    <div class="profile-back" style="background-color: #ff5331;"></div>
    <img class="rounded-circle profile-pic" src="/uploads/avatars/<%= data[0].user_avatar %>">
    <h3 class="profile-name"
        style="background-color: #ff5331;font-size: 20px;font-family: Acme, sans-serif;"><%= data[0].user_name %></h3>
    <p class="profile-bio"
       style="font-size: 20px;font-family: Acme, sans-serif;margin-bottom: 30px;"><%= data[0].user_email %></p>
</div>

<div class="row" style="font-family: Actor, sans-serif;">
    <% for (var i = 0; i < data[0].Services.length; i++){ %>
        <div class="col-4 py-3 mx-auto col-xl-4 col-lg-6 col-md-6 col-sm-12" style="min-width:300px;min-height:300px;">
            <div class="card"><a href="#">
                    <img class="card-img-top" style="height:200px;"
                         src="uploads/services/<%= data[0].Services[i].image_path %>"></a>
                <div class="card-body">
                    <h5><%= data[0].Services[i].service_title %></h5>
                    <p><%= data[0].Services[i].service_desc %></p>
                </div>
                <div class="card-footer text-center">
                    <small><a href="#"><i class="fa fa-eye pr-1"></i>Lihat<br></a></small>
                </div>
            </div>
        </div>
    <% } %>

</div>

<div id="myModal" class="modal">
    <!-- Modal content -->
    <div class="modal-content">
        <div class="modal-header">
            <span class="close">&times;</span>
        </div>
        <div class="modal-body">
            <form method="POST" action="/profile/add-product" enctype="multipart/form-data">
                <div class="form-group">
                    <label>Categories</label>
                    <select class="custom-select" name="category">
                        <% for(var i = 0; i < categories.length; i++){ %>
                            <option value="<%= categories[i].ID_category %>"><%= categories[i].category %></option>
                        <% } %>
                    </select>
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" name="title" class="form-control" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea type="text" name="desc" class="form-control" required></textarea>
                </div>
                <div class="form-group">
                    <label>Price (Rupiah)</label>
                    <input type="text" class="form-control" name="price" required>
                </div>
                <div class="form-group">
                    <label>Photo</label>
                    <input type="file" class="form-control" name="photo" required>
                </div>
                <button type="submit" class="btn btn-primary">Add</button>
            </form>
        </div>
    </div>
</div>

<script src="javascripts/jquery/jquery.min.js"></script>
<script src="javascripts/profile/image-card-materialize.js"></script>
<script src="javascripts/boostrap/bootstrap.min.js"></script>
<script type="text/javascript">
    const modal = document.getElementById("myModal");

    // Get the button that opens the modal
    const btn = document.getElementById("myBtn");

    // Get the <span> element that closes the modal
    const span = document.getElementsByClassName("close")[0];

    // When the user clicks the button, open the modal 
    btn.onclick = function () {
        modal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function () {
        modal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>
</body>

</html>